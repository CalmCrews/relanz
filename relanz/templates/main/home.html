{% extends 'mobileBase.html' %}
{% load static %}
{% block mobile_title %}
  Home | Start!
{% endblock mobile_title %}

{% block mobile_extrahead %}
  <link rel="stylesheet" type="text/css" href="{% static "css/main/home.css"%}">
{% endblock mobile_extrahead %}

{% block mobile_content%}
  {% if not user.nickname %}
    <div id="profile-unset">
      <p class="signin-complete">회원가입이 완료되었습니다!</p>
      <div class="welcome-box">
        <img src="{% static "images/welcome-box.png" %}" alt="welcome-img">
      </div>
      <p class="wel-message">이제 릴렌즈와<br>스트레스 해소법을 찾아보아요!</p>
      <a href="{% url 'user:content' %}" class="user-button" id="profile_setting">프로필 설정하기</a>
      <a href="{% url 'user:signout' %}" class="user-button" id="log_out">로그아웃하기</a>
    </div>
  {% else %}
    <div id="profile-set">
      <div class="page-wrapper">
        <div class="profile-section">

          <div class="profile-img">
            <div class="profile-wrapper">
              <div class="profile-circle">
                <div class="back-hair"></div>
                <div class="face"></div>
                <div class="front-hair"></div>
                <div class="eyebrows"></div>
                <div class="eyes"></div>
                <div class="nose"></div>
                <div class="mouth"></div>
                <div class="cheek"></div>
              </div>
            </div>
          </div>

          <div class="bubble"></div>
          <div class="badge-section"></div>

        </div>

        <div id="top-page">
          <div class="top-page-content">
            <div class="header-message">
              <img src="{% static "icons/dot.png" %}" alt="">
              <span>{{ user.nickname }}님께 추천하는 관리 활동입니다.</br>마음에 드는 릴렌지를 시도해보아요!</span>
            </div>
            <div class="relenge-section">
              <ul class="tag-list">
                {% comment %} 임시 {% endcomment %}
                <li>전체</li>
                <li>야외</li>
                <li>실내</li>
                <li>동적인</li>
                <li>정적인</li>
                <li>혼자서</li>
              </ul>
              <ul class="relenge-list">
                {% comment %} 임시 {% endcomment %}
                <li>전체</li>
                <li>야외</li>
                <li>실내</li>
                <li>동적인</li>
                <li>정적인</li>
                <li>혼자서</li>
              </ul>
            </div>
            <div class="report-section">
              <div class="report-header">
                <div class="report-title"></div>
                <div class="weekly-monthly"></div>
              </div>
              <div class="report-summary">
                <div class="summary-block"></div>
                <div class="summary-detail-1"></div>
                <div class="summary-detail-2"></div>
              </div>
              <div class="relanz-magazine">
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  {% endif %}
{% endblock %}

{% block mobile-scripts %}
  <script>
    function renderProfileCombination(combinationData) {
      const backHairElement = document.querySelector(".back-hair");
      const frontHairElement = document.querySelector(".front-hair");
      const eyebrowsElement = document.querySelector(".eyebrows");
      const eyesElement = document.querySelector(".eyes");
      const noseElement = document.querySelector(".nose");
      const mouthElement = document.querySelector(".mouth");
      const cheekElement = document.querySelector(".cheek");
      const faceElement = document.querySelector(".face");
    
      // 각 조합 요소의 숫자에 해당하는 이미지 경로 설정
      backHairElement.style.backgroundImage = `url("{% static 'character/backhair/back_hair' %}${combinationData[0]}.png")`;
      frontHairElement.style.backgroundImage = `url("{% static 'character/fronthair/front_hair' %}${combinationData[1]}.png")`;
      eyebrowsElement.style.backgroundImage = `url("{% static 'character/brows/brows' %}${combinationData[2]}.png")`;
      eyesElement.style.backgroundImage = `url("{% static 'character/eyes/eyes' %}${combinationData[3]}.png")`;
      noseElement.style.backgroundImage = `url("{% static 'character/nose/nose' %}${combinationData[4]}.png")`;
      mouthElement.style.backgroundImage = `url("{% static 'character/mouth/mouth' %}${combinationData[5]}.png")`;
      cheekElement.style.backgroundImage = `url("{% static 'character/cheeks/cheeks' %}${combinationData[6]}.png")`;
      faceElement.style.backgroundImage = `url("{% static 'character/face.png' %}`;

    }
    
    // 예시 조합 데이터
    const exampleCombinationData = "3211123";
    
    // 조합 데이터를 적용하여 프로필 렌더링
    renderProfileCombination(exampleCombinationData);
  </script>
{% endblock %}